import{a as f,S as v,N as E,P as S,R as N}from"./assets/vendor-BJTl0V0a.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const n of a.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&i(n)}).observe(document,{childList:!0,subtree:!0});function s(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=s(r);fetch(r.href,a)}})();const M="https://sound-wave.b.goit.study/api";f.defaults.baseURL=M;const b=8;async function T(){return(await f.get("/genres")).data}async function p(e={},t=1){const s={limit:b,page:t,...e},i=await f.get("/artists",{params:s});return{artists:i.data.artists,totalArtists:i.data.totalArtists}}async function q(e=1){const t={limit:b,page:e};return(await f.get("/feedbacks",{params:t})).data.data}async function P(){const e=document.querySelector(".swiper-wrapper"),t=Math.ceil(1012/8),s=Math.floor(Math.random()*t)+1;(await q(s)).sort(()=>Math.random()-.5).slice(0,8).forEach(({descr:a,name:n,rating:l})=>{const d=document.createElement("div");d.classList.add("swiper-slide");const y=Math.round(l);d.innerHTML=`
      <div class="feedback-item">
        <div class="raty" data-score="${y}"></div>
        <p class="feedback-text">"${a}"</p>
        <p class="feedback-author">${n}</p>
      </div>
    `,e.appendChild(d)}),document.querySelectorAll(".raty").forEach(a=>{const n=a.dataset.score;new N(a,{starType:"i",score:n,readOnly:!0}).init()})}P().then(()=>{new v(".swiper",{modules:[E,S],speed:400,spaceBetween:30,loop:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0,renderBullet:function(e,t){return`<span class="${t}"></span>`}}})});const L=document.querySelector(".artists-list");document.querySelector(".artist-modal");document.querySelector(".artist-modal-list");const $=document.querySelector(".artist-modal-pages"),A=document.querySelector(".filters"),x=document.querySelector(".js-genres-list");function m(e){return Math.ceil(e/b)}function k(e){const{genres:t,strArtist:s,strArtistThumb:i,strBiographyEN:r,_id:a}=e;return`<li class="artist-card" data-id="${a}"> 
  
    <img  class="artist-thumb" src="${i}" alt="${s}">
    <ul class="artist-genres">
    ${C(t)}
    </ul>
    <h2 class="artist-name">${s}</h2>
    <p class="artist-biography">${r}</p>
    </li>`}function C(e){return e.map(s=>`<li>${s}</li>`).join("")}function g(e){const t=e.map(k).join("");L.innerHTML="",L.insertAdjacentHTML("beforeend",t)}function O(e){const t=e.map(({genre:s})=>`<li>${s}</li>`).join("");x.insertAdjacentHTML("beforeend",t)}function h(e,t){let s="";s+=`
    <a href="#artists" class="page-btn" ${e===1?"disabled":""} data-page="${e-1}">
      ←
    </a>
  `,s+=`<a href="#artists" class="page-btn ${e===1?"active":""}" data-page="1">1</a>`,e>3&&(s+='<span class="dots">...</span>'),e>2&&(s+=`<a href="#artists" class="page-btn" data-page="${e-1}">${e-1}</a>`),e!==1&&e!==t&&(s+=`<a href="#artists" class="page-btn active" data-page="${e}">${e}</a>`),e<t-1&&(s+=`<a href="#artists" class="page-btn" data-page="${e+1}">${e+1}</a>`),e<t-2&&(s+='<span class="dots">...</span>'),t>1&&(s+=`<a href="#artists" class="page-btn ${e===t?"active":""}" data-page="${t}">${t}</a>`),s+=`
    <a href="#artists" class="page-btn" ${e===t?"disabled":""} data-page="${e+1}">
      →
    </a> 
  `,$.innerHTML=s}let c=1,o={},w="",u=null;async function j(e){try{const t=e.target.value.trim();if(t.length===w.length){console.log("object");return}w=t,t&&(o.name=t),c=1;const{artists:s,totalArtists:i}=await p(o,c);g(s),h(c,m(i))}catch(t){console.log(t)}}async function B(e){try{if(e.target.tagName==="BUTTON"){const t=e.target.nextElementSibling;t.classList.toggle("is-hidden"),u&&u!==t&&u.classList.add("is-hidden"),u=t;return}if(e.target.tagName==="LI"){const t=e.target.closest(".select"),s=t.querySelector(".select-input"),i=t.querySelector(".select-btn"),r=t.querySelector(".select-list-wrapper");if(s&&(s.value=e.target.textContent.trim()),i){const a=Array.from(i.childNodes).find(n=>n.nodeType===Node.TEXT_NODE);if(a){const n=e.target.textContent.trim();a.nodeValue=n;const l=t.dataset.selectName;l==="sortName"?n==="Default"?delete o.sortName:o={...o,[l]:n==="Z-A"?"desc":"asc"}:n==="All Genres"?delete o.genre:o={...o,[l]:n},c=1;const{artists:d,totalArtists:y}=await p(o,c);g(d),h(c,m(y))}}r&&r.classList.add("is-hidden")}}catch(t){console.log(t)}}async function R(e){const t=e.target.closest(".page-btn");if(!t||t.disabled||t.classList.contains("active"))return;c=Number(t.dataset.page);const{artists:i,totalArtists:r}=await p(o,c);g(i),h(c,m(r))}async function G(){const{artists:e,totalArtists:t}=await p();g(e);const s=await T();h(1,m(t)),O(s)}G();A.addEventListener("input",j);A.addEventListener("click",B);$.addEventListener("click",R);
//# sourceMappingURL=index.js.map
