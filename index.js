import{a as p}from"./assets/vendor-2s9xPmg-.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function s(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(r){if(r.ep)return;r.ep=!0;const n=s(r);fetch(r.href,n)}})();const y=document.querySelector(".artists-list");document.querySelector(".artist-modal");document.querySelector(".artist-modal-list");const b=document.querySelector(".artist-modal-pages"),L=document.querySelector(".filters"),S=document.querySelector(".js-genres-list"),N="https://sound-wave.b.goit.study/api";p.defaults.baseURL=N;const A=8;async function v(){return(await p.get("/genres")).data}async function d(e={},t=1){const s={limit:A,page:t,...e},a=await p.get("/artists",{params:s});return{artists:a.data.artists,totalArtists:a.data.totalArtists}}function u(e){return Math.ceil(e/A)}function w(e){const{genres:t,strArtist:s,strArtistThumb:a,strBiographyEN:r,_id:n}=e;return`<li class="artist-card" data-id="${n}"> 
  
    <img  class="artist-thumb" src="${a}" alt="${s}">
    <ul class="artist-genres">
    ${T(t)}
    </ul>
    <h2 class="artist-name">${s}</h2>
    <p class="artist-biography">${r}</p>
    </li>`}function T(e){return e.map(s=>`<li>${s}</li>`).join("")}function f(e){const t=e.map(w).join("");y.innerHTML="",y.insertAdjacentHTML("beforeend",t)}function q(e){const t=e.map(({genre:s})=>`<li>${s}</li>`).join("");S.insertAdjacentHTML("beforeend",t)}function g(e,t){let s="";s+=`
    <a href="#artists" class="page-btn" ${e===1?"disabled":""} data-page="${e-1}">
      ←
    </a>
  `,s+=`<a href="#artists" class="page-btn ${e===1?"active":""}" data-page="1">1</a>`,e>3&&(s+='<span class="dots">...</span>'),e>2&&(s+=`<a href="#artists" class="page-btn" data-page="${e-1}">${e-1}</a>`),e!==1&&e!==t&&(s+=`<a href="#artists" class="page-btn active" data-page="${e}">${e}</a>`),e<t-1&&(s+=`<a href="#artists" class="page-btn" data-page="${e+1}">${e+1}</a>`),e<t-2&&(s+='<span class="dots">...</span>'),t>1&&(s+=`<a href="#artists" class="page-btn ${e===t?"active":""}" data-page="${t}">${t}</a>`),s+=`
    <a href="#artists" class="page-btn" ${e===t?"disabled":""} data-page="${e+1}">
      →
    </a> 
  `,b.innerHTML=s}let c=1,o={},h="",l=null;async function M(e){try{const t=e.target.value.trim();if(t.length===h.length){console.log("object");return}h=t,t&&(o.name=t),c=1;const{artists:s,totalArtists:a}=await d(o,c);f(s),g(c,u(a))}catch(t){console.log(t)}}async function C(e){try{if(e.target.tagName==="BUTTON"){const t=e.target.nextElementSibling;t.classList.toggle("is-hidden"),l&&l!==t&&l.classList.add("is-hidden"),l=t;return}if(e.target.tagName==="LI"){const t=e.target.closest(".select"),s=t.querySelector(".select-input"),a=t.querySelector(".select-btn"),r=t.querySelector(".select-list-wrapper");if(s&&(s.value=e.target.textContent.trim()),a){const n=Array.from(a.childNodes).find(i=>i.nodeType===Node.TEXT_NODE);if(n){const i=e.target.textContent.trim();n.nodeValue=i;const m=t.dataset.selectName;m==="sortName"?i==="Default"?delete o.sortName:o={...o,[m]:i==="Z-A"?"desc":"asc"}:i==="All Genres"?delete o.genre:o={...o,[m]:i},c=1;const{artists:$,totalArtists:E}=await d(o,c);f($),g(c,u(E))}}r&&r.classList.add("is-hidden")}}catch(t){console.log(t)}}async function O(e){const t=e.target.closest(".page-btn");if(!t||t.disabled||t.classList.contains("active"))return;c=Number(t.dataset.page);const{artists:a,totalArtists:r}=await d(o,c);f(a),g(c,u(r))}async function P(){const{artists:e,totalArtists:t}=await d();f(e);const s=await v();g(1,u(t)),q(s)}P();L.addEventListener("input",M);L.addEventListener("click",C);b.addEventListener("click",O);
//# sourceMappingURL=index.js.map
