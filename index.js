import{a as m}from"./assets/vendor-2s9xPmg-.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function s(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(r){if(r.ep)return;r.ep=!0;const n=s(r);fetch(r.href,n)}})();const p=document.querySelector(".artists-list");document.querySelector(".artist-modal");document.querySelector(".artist-modal-list");const h=document.querySelector(".artist-modal-pages"),b=document.querySelector(".filters"),E=document.querySelector(".js-genres-list"),S="https://sound-wave.b.goit.study/api";m.defaults.baseURL=S;const L=8;async function N(){return(await m.get("/genres")).data}async function l(t={},e=1){const s={limit:L,page:e,...t},a=await m.get("/artists",{params:s});return console.log({artists:a.data.artists,totalArtists:a.data.totalArtists}),{artists:a.data.artists,totalArtists:a.data.totalArtists}}function d(t){return Math.ceil(t/L)}function v(t){const{genres:e,strArtist:s,strArtistThumb:a,strBiographyEN:r,_id:n}=t;return`<li class="artist-card" data-id="${n}"> 
  
    <img  class="artist-thumb" src="${a}" alt="${s}">
    <ul class="artist-genres">
    ${w(e)}
    </ul>
    <h2 class="artist-name">${s}</h2>
    <p class="artist-biography">${r}</p>
    </li>`}function w(t){return t.map(s=>`<li>${s}</li>`).join("")}function u(t){const e=t.map(v).join("");p.innerHTML="",p.insertAdjacentHTML("beforeend",e)}function T(t){const e=t.map(({genre:s})=>`<li>${s}</li>`).join("");E.insertAdjacentHTML("beforeend",e)}function f(t,e){let s="";s+=`
    <a href="#artists" class="page-btn" ${t===1?"disabled":""} data-page="${t-1}">
      ←
    </a>
  `,s+=`<a href="#artists" class="page-btn ${t===1?"active":""}" data-page="1">1</a>`,t>3&&(s+='<span class="dots">...</span>'),t>2&&(s+=`<a href="#artists" class="page-btn" data-page="${t-1}">${t-1}</a>`),t!==1&&t!==e&&(s+=`<a href="#artists" class="page-btn active" data-page="${t}">${t}</a>`),t<e-1&&(s+=`<a href="#artists" class="page-btn" data-page="${t+1}">${t+1}</a>`),t<e-2&&(s+='<span class="dots">...</span>'),e>1&&(s+=`<a href="#artists" class="page-btn ${t===e?"active":""}" data-page="${e}">${e}</a>`),s+=`
    <a href="#artists" class="page-btn" ${t===e?"disabled":""} data-page="${t+1}">
      →
    </a> 
  `,h.innerHTML=s}let c=1,o={},y="";async function q(t){try{const e=t.target.value.trim();if(e.length===y.length){console.log("object");return}y=e,e&&(o.name=e),c=1;const{artists:s,totalArtists:a}=await l(o,c);u(s),f(c,d(a)),console.log(o)}catch(e){console.log(e)}}async function M(t){try{if(t.target.tagName==="BUTTON"){t.target.nextElementSibling.classList.toggle("is-hidden"),previousSelector=t.target.nextElementSibling;return}if(t.target.tagName==="LI"){const e=t.target.closest(".select"),s=e.querySelector(".select-input"),a=e.querySelector(".select-btn"),r=e.querySelector(".select-list-wrapper");if(s&&(s.value=t.target.textContent.trim()),a){const n=Array.from(a.childNodes).find(i=>i.nodeType===Node.TEXT_NODE);if(n){const i=t.target.textContent.trim();n.nodeValue=i;const g=e.dataset.selectName;g==="sortName"?i==="Default"?delete o.sortName:o={...o,[g]:i==="Z-A"?"desc":"asc"}:i==="All Genres"?delete o.genre:o={...o,[g]:i},c=1;const{artists:A,totalArtists:$}=await l(o,c);u(A),f(c,d($)),console.log(o)}}r&&r.classList.add("is-hidden")}}catch(e){console.log(e)}}async function C(t){const e=t.target.closest(".page-btn");if(!e||e.disabled||e.classList.contains("active"))return;c=Number(e.dataset.page),console.log(c);const{artists:a,totalArtists:r}=await l(o,c);u(a),f(c,d(r))}async function O(){const{artists:t,totalArtists:e}=await l();u(t);const s=await N();f(1,d(e)),T(s)}O();b.addEventListener("input",q);b.addEventListener("click",M);h.addEventListener("click",C);
//# sourceMappingURL=index.js.map
